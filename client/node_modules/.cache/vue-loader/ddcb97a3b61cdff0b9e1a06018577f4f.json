{"remainingRequest":"/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/src/views/admin/UserMenuComment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/src/views/admin/UserMenuComment.vue","mtime":1551585431055},{"path":"/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangshaoyu/Desktop/Graduation design/phoenix_menu_network/client/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  data() {\n    return {\n      title: '',\n      commentList: [\n        {\n          id: 1,\n          comment: '这是一条评论',\n          praise: 1,\n          date: '2018-12-12',\n          user: { id: 1, name: 'admin'},\n          recipe: {id: 1, name: '红烧排骨'}\n        },\n        {\n          id: 2,\n          comment: '这是一条评论',\n          praise: 3,\n          date: '2018-12-13',\n          user: { id: 1, name: 'admin'},\n          recipe: {id: 1, name: '红烧排骨'}\n        },\n      ],\n      dialogFormVisible: false,\n      checkSubmit: true,\n      roleChecked : [],\n      checkedRoleId: [],\n      form: {\n        name: '',\n        description: '',\n      },\n      role_id: '',\n    };\n  },\n  mounted(){\n    // this.getUsers();\n    // this.getRoles();\n  },\n  methods: {\n    // 提交点击事件\n    Submit(){\n      this.dialogFormVisible = false;\n      // if(this.checkSubmit){\n      //   this.createUser();\n      // }else{\n      //   this.updateUser();\n      // }\n    },\n    //取消方法\n    Close() {\n      this.dialogFormVisible = false;\n      // this.resetDialog();\n    },\n    // 清空添加框\n    resetDialog() {\n      // this.form.username = '';\n      // this.form.password = '';\n      // this.form.englishName = '';\n      // this.form.chinesehName = '';\n      // this.form.email = '';\n      // this.form.role_id = [];\n      // this.form.comment = '';\n    },\n    // 添加方法\n    addUser() {\n      // this.title = 'Add User'\n      this.dialogFormVisible = true;\n      // this.resetDialog();\n    },\n    // 创建用户\n    createUser(){\n      // // 邮箱格式正则\n      // let emailValidation = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      // let roles_id = [];\n      // for(var i = 0; i< this.form.role_id.length; i++){\n      //   roles_id.push({id: this.form.role_id[i]});\n      // }\n      // let data ={\n      //   username: this.form.username,\n      //   password: this.form.password,\n      //   englishName: this.form.englishName,\n      //   chinesehName: this.form.chinesehName,\n      //   email: this.form.email,\n      //   roles: roles_id,\n      //   comment: this.form.comment,\n      // };\n      // this.$axios({\n      //   url: '/api/v1/users/' + data.username,\n      //   method: 'get',\n      // }).then(res =>{\n      //   if(res.data.code == 200){\n      //     let findName = res.data.data;\n      //     // 判断关键值是否为空\n      //     if(data.username && data.password && data.email != ''){\n      //       // 判断是否有重复用户名\n      //       if(findName != 200){\n      //         // 验证邮箱格式\n      //         if(emailValidation.test(data.email)){\n      //           this.$axios({\n      //             url: '/api/v1/users',\n      //             method: 'post',\n      //             data: data,\n      //           }).then(res=>{\n      //             if(res.data.code == 200){\n      //               this.getUsers();\n      //             }else{\n      //               this.$router.push({ path: \"/nopermisson\"});\n      //             }\n      //           });\n      //         }else{\n      //           this.dialogFormVisible = true;\n      //           alert('Please Input Correct Email Format')\n      //         }\n      //       }else{\n      //         this.dialogFormVisible = true;\n      //         alert('Repeat Username, Please Input Again');\n      //       }\n      //     }else{\n      //       this.dialogFormVisible = true;\n      //       alert('please Input All Data');\n      //     }\n      //   }else{\n      //     this.$router.push({ path: \"/nopermisson\"});\n      //   }\n      // });\n    },\n    // 复写用户信息\n    copyUser(index,data) {\n      // this.title = 'Update User'\n      this.dialogFormVisible = true;\n      // this.checkSubmit = false;\n      // this.user_id = data.id;\n      // this.form.englishName = data.englishName;\n      // this.form.chinesehName = data.chinesehName;\n      // this.form.email = data.email;\n      // this.roleChecked = data.roles;\n      // this.form.comment = data.comment;\n      // // 选择角色\n      // var role_id = []\n      // for(var i = 0;i<data.roles.length;i++){\n      //   role_id.push(data.roles[i].id)\n      // }\n      // this.form.role_id=role_id;\n    },\n    // 更新用户\n    updateUser() {\n      // // 邮箱格式正则\n      // let emailValidation = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      // let roles_id = [];\n      // for(var i = 0; i< this.form.role_id.length; i++){\n      //   roles_id.push({id: this.form.role_id[i]});\n      // }\n      // let data = {\n      //   password: this.form.password,\n      //   englishName: this.form.englishName,\n      //   chinesehName: this.form.chinesehName,\n      //   email: this.form.email,\n      //   roles: roles_id,\n      //   comment: this.form.comment,\n      // };\n      // if(data.email != ''){\n      //   // 验证邮箱格式\n      //   if(emailValidation.test(data.email)){\n      //     this.$axios({\n      //       url: '/api/v1/users/' + this.user_id,\n      //       method: 'put',\n      //       data: data,\n      //     }).then(res=>{\n      //       if(res.data.code == 200){\n      //         this.getUsers();\n      //       }else{\n      //         this.$router.push({ path: \"/nopermisson\"});\n      //       }\n      //     });\n      //   }else{\n      //     this.dialogFormVisible = true;\n      //     alert('Please Input Correct Email Format');\n      //   }\n      // }else{\n      //   this.dialogFormVisible = true;\n      //   alert('please Input All Data');\n      // }\n    },\n    // 获取用户\n    getUsers() {\n      // this.$axios({\n      //   url: '/api/v1/users',\n      //   method: 'get',\n      // }).then(res=> {\n      //   if(res.data.code == 200){\n      //     this.users = res.data.data;\n      //   }else{\n      //     this.$router.push({ path: \"/nopermisson\"});\n      //   }\n      // })\n    },\n    // 获取角色\n    getRoles(){\n      // this.$axios({\n      //   url: '/api/v1/roles',\n      //   method: 'get',\n      // }).then(res =>{\n      //   if(res.data.code == 200){\n      //     this.roles = res.data.data;\n      //   }else{\n      //     this.$router.push({ path: \"/nopermisson\"});\n      //   }\n      // })\n    },\n  }\n};\n",{"version":3,"sources":["UserMenuComment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserMenuComment.vue","sourceRoot":"src/views/admin","sourcesContent":["<template>\n  <el-row class=\"container\">\n    <el-row class=\"header\">\n      <el-button type=\"primary\" class=\"add\" @click=\"addComment()\" disabled=\"\">+Add</el-button>\n    </el-row>\n    <el-row class=\"main\">\n      <el-table :data=\"commentList\" stripe style=\"width: 97%;\">\n        <el-table-column prop=\"id\" label=\"ID\" class-name=\"table_column\" width=\"70\"></el-table-column>\n        <el-table-column prop=\"comment\" label=\"Comment\" class-name=\"table_column\"></el-table-column>\n        <el-table-column prop=\"date\" label=\"Date\" class-name=\"table_column\"></el-table-column>\n        <el-table-column prop=\"user.name\" label=\"Username\" class-name=\"table_column\"></el-table-column>\n        <el-table-column prop=\"recipe.name\" label=\"Recipe Name\" class-name=\"table_column\"></el-table-column>\n        <el-table-column prop=\"praise\" label=\"Praise Number\" class-name=\"table_column\"></el-table-column>\n        <el-table-column label=\"Operation\" class-name=\"table_column\">\n          <template slot-scope=\"scope\">\n            <el-button size=\"small\" @click=\"deleteComment(scope.$index,scope.row)\" type=\"danger\" plain>Delete</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-row>\n    <!-- 模态框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"dialogFormVisible\" center>\n      <el-form :model=\"form\">\n        <el-form-item label=\"Title\" label-width=\"120px\">\n          <el-input v-model=\"form.title\" type=\"title\" placeholder=\"Please Input Title\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Information\" label-width=\"120px\">\n          <el-input v-model=\"form.info\" type=\"textarea\" placeholder=\"Please Input Information\" autocomplete=\"off\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button :visible.sync=\"checkSubmit\"  type=\"primary\" @click=\"Submit()\">确 定</el-button>\n        <el-button type=\"warning\" @click=\"Close()\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </el-row>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      title: '',\n      commentList: [\n        {\n          id: 1,\n          comment: '这是一条评论',\n          praise: 1,\n          date: '2018-12-12',\n          user: { id: 1, name: 'admin'},\n          recipe: {id: 1, name: '红烧排骨'}\n        },\n        {\n          id: 2,\n          comment: '这是一条评论',\n          praise: 3,\n          date: '2018-12-13',\n          user: { id: 1, name: 'admin'},\n          recipe: {id: 1, name: '红烧排骨'}\n        },\n      ],\n      dialogFormVisible: false,\n      checkSubmit: true,\n      roleChecked : [],\n      checkedRoleId: [],\n      form: {\n        name: '',\n        description: '',\n      },\n      role_id: '',\n    };\n  },\n  mounted(){\n    // this.getUsers();\n    // this.getRoles();\n  },\n  methods: {\n    // 提交点击事件\n    Submit(){\n      this.dialogFormVisible = false;\n      // if(this.checkSubmit){\n      //   this.createUser();\n      // }else{\n      //   this.updateUser();\n      // }\n    },\n    //取消方法\n    Close() {\n      this.dialogFormVisible = false;\n      // this.resetDialog();\n    },\n    // 清空添加框\n    resetDialog() {\n      // this.form.username = '';\n      // this.form.password = '';\n      // this.form.englishName = '';\n      // this.form.chinesehName = '';\n      // this.form.email = '';\n      // this.form.role_id = [];\n      // this.form.comment = '';\n    },\n    // 添加方法\n    addUser() {\n      // this.title = 'Add User'\n      this.dialogFormVisible = true;\n      // this.resetDialog();\n    },\n    // 创建用户\n    createUser(){\n      // // 邮箱格式正则\n      // let emailValidation = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      // let roles_id = [];\n      // for(var i = 0; i< this.form.role_id.length; i++){\n      //   roles_id.push({id: this.form.role_id[i]});\n      // }\n      // let data ={\n      //   username: this.form.username,\n      //   password: this.form.password,\n      //   englishName: this.form.englishName,\n      //   chinesehName: this.form.chinesehName,\n      //   email: this.form.email,\n      //   roles: roles_id,\n      //   comment: this.form.comment,\n      // };\n      // this.$axios({\n      //   url: '/api/v1/users/' + data.username,\n      //   method: 'get',\n      // }).then(res =>{\n      //   if(res.data.code == 200){\n      //     let findName = res.data.data;\n      //     // 判断关键值是否为空\n      //     if(data.username && data.password && data.email != ''){\n      //       // 判断是否有重复用户名\n      //       if(findName != 200){\n      //         // 验证邮箱格式\n      //         if(emailValidation.test(data.email)){\n      //           this.$axios({\n      //             url: '/api/v1/users',\n      //             method: 'post',\n      //             data: data,\n      //           }).then(res=>{\n      //             if(res.data.code == 200){\n      //               this.getUsers();\n      //             }else{\n      //               this.$router.push({ path: \"/nopermisson\"});\n      //             }\n      //           });\n      //         }else{\n      //           this.dialogFormVisible = true;\n      //           alert('Please Input Correct Email Format')\n      //         }\n      //       }else{\n      //         this.dialogFormVisible = true;\n      //         alert('Repeat Username, Please Input Again');\n      //       }\n      //     }else{\n      //       this.dialogFormVisible = true;\n      //       alert('please Input All Data');\n      //     }\n      //   }else{\n      //     this.$router.push({ path: \"/nopermisson\"});\n      //   }\n      // });\n    },\n    // 复写用户信息\n    copyUser(index,data) {\n      // this.title = 'Update User'\n      this.dialogFormVisible = true;\n      // this.checkSubmit = false;\n      // this.user_id = data.id;\n      // this.form.englishName = data.englishName;\n      // this.form.chinesehName = data.chinesehName;\n      // this.form.email = data.email;\n      // this.roleChecked = data.roles;\n      // this.form.comment = data.comment;\n      // // 选择角色\n      // var role_id = []\n      // for(var i = 0;i<data.roles.length;i++){\n      //   role_id.push(data.roles[i].id)\n      // }\n      // this.form.role_id=role_id;\n    },\n    // 更新用户\n    updateUser() {\n      // // 邮箱格式正则\n      // let emailValidation = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/;\n      // let roles_id = [];\n      // for(var i = 0; i< this.form.role_id.length; i++){\n      //   roles_id.push({id: this.form.role_id[i]});\n      // }\n      // let data = {\n      //   password: this.form.password,\n      //   englishName: this.form.englishName,\n      //   chinesehName: this.form.chinesehName,\n      //   email: this.form.email,\n      //   roles: roles_id,\n      //   comment: this.form.comment,\n      // };\n      // if(data.email != ''){\n      //   // 验证邮箱格式\n      //   if(emailValidation.test(data.email)){\n      //     this.$axios({\n      //       url: '/api/v1/users/' + this.user_id,\n      //       method: 'put',\n      //       data: data,\n      //     }).then(res=>{\n      //       if(res.data.code == 200){\n      //         this.getUsers();\n      //       }else{\n      //         this.$router.push({ path: \"/nopermisson\"});\n      //       }\n      //     });\n      //   }else{\n      //     this.dialogFormVisible = true;\n      //     alert('Please Input Correct Email Format');\n      //   }\n      // }else{\n      //   this.dialogFormVisible = true;\n      //   alert('please Input All Data');\n      // }\n    },\n    // 获取用户\n    getUsers() {\n      // this.$axios({\n      //   url: '/api/v1/users',\n      //   method: 'get',\n      // }).then(res=> {\n      //   if(res.data.code == 200){\n      //     this.users = res.data.data;\n      //   }else{\n      //     this.$router.push({ path: \"/nopermisson\"});\n      //   }\n      // })\n    },\n    // 获取角色\n    getRoles(){\n      // this.$axios({\n      //   url: '/api/v1/roles',\n      //   method: 'get',\n      // }).then(res =>{\n      //   if(res.data.code == 200){\n      //     this.roles = res.data.data;\n      //   }else{\n      //     this.$router.push({ path: \"/nopermisson\"});\n      //   }\n      // })\n    },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  @import \"../../styles/style.scss\";\n  @import \"../../styles/variables.scss\";\n  .container {\n    position: absolute;\n    right: 0;\n    overflow: scroll;\n    width: 80%;\n    .header {\n      text-align: right;\n      margin: $size20;\n      border-radius: 15px;\n      padding: $size20;\n      padding-right: $size60;\n      background-color: rgba(153, 153, 153, 0.4);\n    }\n    .el-table{\n      margin: $size20;\n      border-radius: 15px;\n      /deep/ .table_column{\n        text-align: $position_center;\n      }\n      .input100{\n        width: 100%;\n      }\n    }\n  }\n</style>\n\n\n\n"]}]}